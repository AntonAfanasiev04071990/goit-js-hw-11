{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45291031-b2314e04d4a4ac01a9efb8f44';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error('Failed to fetch images');\n        }\n        const data = await response.json();\n        return data.hits;  //\n    } catch (error) {\n        console.error(error);\n        return [];\n    }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n}\n\nexport function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    \n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `\n            <a href=\"${largeImageURL}\" class=\"photo-card\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                <div class=\"info\">\n                    <p class=\"info-item\">\n                        <b>Likes:</b> ${likes}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Views:</b> ${views}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Comments:</b> ${comments}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Downloads:</b> ${downloads}\n                    </p>\n                </div>\n            </a>\n        `;\n    }).join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function showNoResultsMessage() {\n    iziToast.warning({\n        title: 'Warning',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight'\n    });\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery, showNoResultsMessage } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nconst searchForm = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    const query = event.target.elements.searchQuery.value.trim();\n\n    if (query === '') {\n        return iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query!',\n            position: 'topRight'\n        });\n    }\n\n    clearGallery();\n    showLoading();\n\n    try {\n        const images = await fetchImages(query);\n\n        if (images.length === 0) {\n            showNoResultsMessage();\n        } else {\n            renderImages(images);\n            lightbox.refresh();\n        }\n    } catch (error) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Something went wrong. Please try again later.',\n            position: 'topRight'\n        });\n    } finally {\n        hideLoading();\n    }\n});\n\nfunction showLoading() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoading() {\n    loader.style.display = 'none';\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","error","clearGallery","gallery","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showNoResultsMessage","iziToast","lightbox","SimpleLightbox","searchForm","loader","event","showLoading","hideLoading"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAG5C,OADa,MAAMA,EAAS,QAChB,IACf,OAAQC,EAAO,CACZ,eAAQ,MAAMA,CAAK,EACZ,EACV,CACL,CCdO,SAASC,GAAe,CAC3B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CAEO,SAASC,EAAaC,EAAQ,CACjC,MAAMF,EAAU,SAAS,cAAc,UAAU,EAE3CG,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACtF;AAAA,uBACQL,CAAa;AAAA,4BACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wCAGdC,CAAK;AAAA;AAAA;AAAA,wCAGLC,CAAK;AAAA;AAAA;AAAA,2CAGFC,CAAQ;AAAA;AAAA;AAAA,4CAGPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAKhD,EAAE,KAAK,EAAE,EAEVV,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,CAEO,SAASQ,GAAuB,CACnCC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,2EACT,SAAU,UAClB,CAAK,CACL,CCpCA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAC,EAED,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACnDA,EAAM,eAAc,EAEpB,MAAMtB,EAAQsB,EAAM,OAAO,SAAS,YAAY,MAAM,OAEtD,GAAItB,IAAU,GACV,OAAO,SAAS,MAAM,CAClB,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAS,EAGLI,IACAmB,IAEA,GAAI,CACA,MAAMhB,EAAS,MAAMR,EAAYC,CAAK,EAElCO,EAAO,SAAW,EAClBS,KAEAV,EAAaC,CAAM,EACnBW,EAAS,QAAO,EAEvB,MAAe,CACZ,SAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,UACtB,CAAS,CACT,QAAc,CACNM,GACH,CACL,CAAC,EAED,SAASD,GAAc,CACnBF,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASG,GAAc,CACnBH,EAAO,MAAM,QAAU,MAC3B"}